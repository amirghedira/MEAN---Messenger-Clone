<section *ngIf="!loading" class="chat">
  <div class="container-fluid">
    <div class="row">

      <div class="messages-box">
        <div class="row">
          <div class="col-lg-4 col-md-12 no-pdd">
            <div class="messages-container">

              <div class="message-header">
                <div class="message-title">
                  <h4>Messages</h4>
                </div>
                <!--/ message-title-->
                <div class="search-area">
                  <div class="input-field">
                    <input placeholder="Search" type="text">
                    <i class="fa fa-search"></i>
                  </div>
                </div>
                <!--/ search-area-->
              </div>
              <!--/ message-header-->
              <div class="messages-list" *ngIf="!checkUserAvailabe()">
                <ul>
                  <li>
                    <div class=" user-message-details">

                      <div class="user-message-info">
                        <div class="user-display">

                          <h4>No users available</h4>
                        </div>
                      </div>
                    </div>
                  </li>
                </ul>
              </div>
              <div class="messages-list" *ngIf="checkUserAvailabe()">
                <ul>
                  <li *ngFor="let user of users">
                    <div class=" user-message-details" (click)="onOpenConvers(user)">
                      <div class="user-message-img">
                        <img src="assets/img/users/9.jpg" class="img-responsive img-circle" alt="">
                      </div>
                      <div class="user-message-info">
                        <div class="user-display">

                          <h4>{{user.name}} {{user.surname}}</h4>
                        </div>
                        <p>CONTENT TO TAKE</p>
                        <span class="time-posted">1:55 PM</span>
                      </div>
                      <!--/ user-message-info -->
                    </div>
                    <!--/ user-message-details -->
                  </li>


                </ul>
              </div>
              <!--/ messages-list -->

            </div>
            <!--/ messages-container-->
          </div>
          <!--/ col-lg-4 -->

          <div class="col-lg-8 col-md-12 pd-right-none pd-left-none">
            <div class="conversation-box">

              <div class="conversation-header">
                <div class="user-message-details">
                  <div class="user-message-img">
                    <img src="assets/img/users/6.jpg" class="img-responsive img-circle" alt="">
                  </div>
                  <div class="user-message-info">
                    <h4 class="user-name">{{currentUserDest.name}} {{currentUserDest.surname}}</h4>
                    <p>Online</p>

                  </div>
                  <!--/ user-message-info -->
                </div>
                <!--/ user-message-details -->
                <a href="#" title=""><i class="fa fa-ellipsis-v"></i></a>
              </div>
              <!--/ conversation-header -->

              <div class="conversation-container">
                <div *ngFor="let message of conversationMsgs">
                  <div *ngIf="checkSenderMsg(message.from)" class="convo-box convo-left">
                    <div class="convo-area convo-left">
                      <div class="convo-message">
                        <p>{{message.content}}</p>
                      </div>
                      <!--/ convo-message-->
                      <span>{{message.date}}</span>
                    </div>
                    <!--/ convo-area -->
                    <div class="convo-img">
                      <img src="assets/img/users/6.jpg" alt="" class="img-responsive img-circle">
                    </div>
                    <!--/ convo-img -->
                  </div>
                  <!--/ convo-box -->

                  <div *ngIf="!checkSenderMsg(message.from)" class="convo-box pull-right">
                    <div class="convo-area">
                      <div class="convo-message">
                        <p>{{message.content}}</p>
                      </div>
                      <!--/ convo-message-->
                      <span>{{message.date}}</span>
                    </div>
                    <!--/ convo-area -->
                    <div class="convo-img">
                      <img src="assets/img/users/2.jpg" alt="" class="img-responsive img-circle">
                    </div>
                    <!--/ convo-img -->
                  </div>
                  <!--/ convo-box -->
                </div>

                <!--/ convo-box -->
                <!--/ convo-box -->

              </div>
              <!--/ conversation-container -->
              <div class="type_messages">
                <div class="input-field">
                  <textarea placeholder="Type a new message" name="currentMessage" id="currentMessage"
                    [(ngModel)]="currentMessage"></textarea>
                  <ul class="imoji">
                    <li>
                      <img src="assets/img/send.png" class="send-image" (click)="onSendMessage()" />
                    </li>
                  </ul>

                </div>
              </div>

            </div>
          </div>

        </div>
      </div>

    </div>
  </div>
</section>
